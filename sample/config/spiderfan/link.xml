<dataset serial="id" read="*" write="*">
    <select>
SELECT id, section, name, url, extra,
    CASE WHEN (LENGTH (warning) > 0) THEN 'WARNING' ELSE '' END AS warning_flag
FROM link
ORDER BY section, name
    </select>
    <update>
UPDATE link
SET section = {{section}},
    name = BTRIM ({{name}}),
    url = BTRIM ({{url}}),
    extra = BTRIM ({{extra}}),
    change_user = {{__username}},
    change_date = now()
WHERE id = {{id}};
    </update>
    <insert>
INSERT INTO link (section, name, url, extra, change_user, change_date)
VALUES ({{section}}, BTRIM ({{name}}), BTRIM ({{url}}), BTRIM ({{extra}}), {{__username}}, now());
    </insert>
    <delete>
DELETE FROM link
WHERE id = {{id}};
    </delete>
</dataset>
