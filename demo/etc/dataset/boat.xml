<dataset read="*" write="*">
    <select>
SELECT id, name,
        COALESCE (registration_num, 0) as registration_num,
        class,
        COALESCE (owner, '') AS owner,
        COALESCE (description, '') AS description
FROM boat
WHERE class = {{class}
ORDER BY name;
    </select>
    <update>
UPDATE boat
SET name = BTRIM ({{name}}),
    registration_num = NULLIF ({{registration_num}}, 0),
    class = BTRIM ({{class}}),
    owner = NULLIF (BTRIM ({{owner}}), ''),
    description = NULLIF (BTRIM ({{description}}), ''),
    change_user = {{__username}},
    change_date = now()
WHERE id = {{id}};
    </update>
    <insert>
INSERT INTO boat (name, registration_num, class, owner, description, change_user, change_date)
VALUES ({{name}},
        NULLIF ({{registration_num}}, 0),
        NULLIF (BTRIM ({{class}}), ''),
        NULLIF (BTRIM ({{owner}}), ''),
        NULLIF (BTRIM ({{description}}), ''),
        {{__username}}, now());
    </insert>
    <delete>
DELETE FROM boat
WHERE id = {{id}};
    </delete>
</dataset>
